---
title: "Vision RAG и продвинутые пайплайны"
weight: 4
bookToc: true
---

# Vision RAG и продвинутые пайплайны

## За пределами текста: RAG на основе зрения

Многие документы содержат информацию, которую сложно передать текстом: графики, диаграммы, сложные таблицы. PageIndex поддерживает **Vision RAG** — пайплайн, работающий напрямую с изображениями страниц.

## Как работает Vision RAG

1. **Конвертация страниц PDF в изображения**
2. **Построение древовидной структуры** — используя текст для структуры
3. **При извлечении — отправка изображений страниц** вместо текста
4. **LLM читает изображение** — современные модели понимают графики и таблицы напрямую

## Преимущества Vision RAG

| Характеристика | Текстовый RAG | Vision RAG |
|---------------|---------------|------------|
| Графики | Теряются | Полностью видны |
| Сложные таблицы | Часто ломаются | Сохраняются |
| Форматирование | Теряется | Сохраняется |
| Ошибки OCR | Частые | Отсутствуют |
| Стоимость | Ниже | Выше |

## Продвинутый RAG-пайплайн

Полная система на основе PageIndex:

1. **Предобработка** — генерация дерева из документа
2. **Анализ запроса** — что ищет пользователь? нужны числа, текст или визуальные данные?
3. **Навигация по дереву** — LLM выбирает наиболее релевантную ветку на каждом уровне
4. **Извлечение контента** — страницы в виде текста или изображений
5. **Генерация ответа** — LLM формирует ответ на основе извлечённого

## Агентный поиск

Самое продвинутое применение — **агентный поиск**, когда ИИ-агент может:

- Делать несколько проходов по дереву
- Комбинировать информацию из разных разделов
- Задавать уточняющие вопросы
- Проверять свои ответы по документу

Подробнее — в cookbook `agentic_retrieval.ipynb`.

## Комбинирование с другими инструментами

PageIndex сочетается с:

- **MCP**: ИИ-ассистенты используют PageIndex как инструмент
- **LangChain / LlamaIndex**: PageIndex как ретривер в существующих фреймворках
- **Собственные пайплайны**: специализированные решения для вашей области

## Итоги

Vision RAG расширяет PageIndex для работы с визуально насыщенными документами. Продвинутые пайплайны сочетают навигацию по дереву, возможности зрения и агентный поиск для самых сложных задач анализа документов.
