---
title: "Работа с API и интеграции"
weight: 4
bookToc: true
---

# Работа с API и интеграции

## Способы использования PageIndex

Помимо локального запуска, PageIndex можно интегрировать несколькими способами:

1. **Python API** — вызов функций PageIndex из вашего кода
2. **Облачный API** — использование через HTTP-запросы
3. **MCP** — подключение к ИИ-ассистентам (Claude, Cursor)
4. **Чат-платформа** — веб-интерфейс для интерактивного анализа

## Использование Python API

```python
from pageindex import page_index

result = page_index(
    "path/to/document.pdf",
    model="gpt-4o-2024-11-20",
    if_add_node_summary="yes",
    if_add_node_id="yes"
)
```

Результат содержит:
- `doc_name` — имя документа
- `structure` — полная древовидная структура
- `doc_description` — (опционально) описание документа

## Параметры настройки

```python
result = page_index(
    "document.pdf",
    toc_check_page_num=20,        # Страницы для поиска TOC
    max_page_num_each_node=10,     # Макс. страниц на узел
    max_token_num_each_node=20000, # Макс. токенов на узел
    if_add_node_summary="yes",     # Генерировать резюме
    if_add_doc_description="yes",  # Генерировать описание документа
    if_add_node_text="no"          # Включать сырой текст
)
```

## Построение RAG-пайплайна

Типичный пайплайн без векторов:

1. **Генерация дерева** — обработка документа PageIndex
2. **Приём вопроса** — получение запроса пользователя
3. **Поиск по дереву** — LLM рассуждает по структуре
4. **Извлечение страниц** — получение контента из нужного раздела
5. **Генерация ответа** — LLM отвечает на основе извлечённого контента

Весь пайплайн работает без векторной базы данных.

## Vision RAG

PageIndex поддерживает подход на основе зрения — вместо текста из PDF работает с **изображениями страниц**. Это полезно для документов со сложными таблицами, графиками и диаграммами.

## MCP-интеграция

MCP (Model Context Protocol) позволяет ИИ-ассистентам использовать PageIndex как инструмент. После настройки Claude или Cursor могут анализировать документы через PageIndex прямо в вашем рабочем процессе.

## Итоги

PageIndex предлагает несколько путей интеграции: Python API, облачный сервис, MCP для ИИ-ассистентов и чат-платформа. Каждый обеспечивает доступ к мощному поиску на основе рассуждений по дереву.
