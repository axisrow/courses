---
title: "Отладка и оптимизация"
level: 3
lesson: 4
lang: ru
---

# Отладка и оптимизация

## Введение

Systematic debugging и оптимизация работы агентов.

## Systematic Debugging

Навык `systematic-debugging` использует 4-фазный процесс:

### Фаза 1: Воспроизведение
- Создай минимальный воспроизводимый пример
- Запиши точные шаги

### Фаза 2: Изоляция
- Сужай область поиска
- Используй бинарный поиск по коммитам

### Фаза 3: Root Cause
- Найди **настоящую** причину, не симптом
- Техника: root-cause-tracing

### Фаза 4: Исправление
- Напиши тест, воспроизводящий баг
- Исправь минимальным изменением
- Убедись, что тест проходит

## verification-before-completion

Навык не даёт агенту объявить «готово» без доказательств:
- Все тесты проходят
- Новые тесты покрывают изменения
- Нет регрессий

## Оптимизация агента

### Уменьшение контекста
- Маленькие задачи = меньше контекста = точнее результат
- Не давайте субагенту весь проект

### Улучшение планов
- Если агент часто ошибается — уточните план
- Добавьте больше деталей в проблемные задачи

### Настройка AGENTS.md
- Добавляйте правила по мере обнаружения проблем
- Конкретные примеры работают лучше общих правил

## Итоги

- Systematic debugging — 4 фазы от воспроизведения до исправления
- Всегда пиши тест на баг перед исправлением
- Оптимизируй через уменьшение контекста и улучшение планов
- AGENTS.md — живой документ, обновляй его
