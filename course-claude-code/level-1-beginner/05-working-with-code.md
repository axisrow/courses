# Урок 5. Работа с кодом

## Зачем это нужно

В предыдущих уроках мы научились запускать Claude Code и вести с ним диалог. Теперь пора перейти к главному — работе с кодом. Claude Code умеет редактировать файлы, искать по проекту, запускать команды и работать с Git. В этом уроке вы узнаете, как он это делает.

---

## Как Claude Code редактирует файлы

Когда вы просите Claude изменить код, он:

1. **Находит нужный файл** — сам, без вашей помощи
2. **Показывает изменения** — в формате «было / стало»
3. **Ждёт вашего разрешения** — ничего не меняет, пока вы не скажете `y`
4. **Вносит правки** — только после подтверждения

### Пример: добавить функцию

```
Вы: добавь функцию hello world в main.py

Claude: Я отредактирую файл main.py:

  + def hello():
  +     print("Hello, World!")
  +
  + hello()

Apply changes? [y/n]
```

### Пример: исправить ошибку

```
Вы: пользователи могут отправить пустую форму — исправь это

Claude: Я нашёл файл form.js. Добавлю проверку перед отправкой:

  function submitForm(data) {
  +   if (!data.name || !data.email) {
  +     alert("Заполните все поля");
  +     return;
  +   }
      sendToServer(data);
  }

Apply changes? [y/n]
```

> Claude Code работает с **любыми языками программирования**: Python, JavaScript, TypeScript, HTML, CSS, Go, Rust и многими другими.

---

## Работа с несколькими файлами

Claude Code видит **весь проект целиком**. Это значит, что он может:

- Изменить несколько файлов за один запрос
- Понимать связи между файлами
- Создавать новые файлы

### Пример

```
Вы: создай страницу «О нас» с отдельным CSS-файлом

Claude: Я создам два файла:

1. about.html — HTML-страница
2. about.css — стили для страницы

[показывает содержимое обоих файлов]

Apply changes? [y/n]
```

---

## Поиск по проекту

Claude Code умеет искать информацию в вашем проекте:

```
Вы: где в проекте обрабатывается авторизация?
```

Claude проанализирует файлы и покажет, в каких именно файлах и на каких строках находится код авторизации.

```
Вы: найди все места, где используется функция calculateTotal
```

```
Вы: какие API-эндпоинты есть в проекте?
```

> **API-эндпоинт** — адрес, по которому программа принимает запросы. Например, `/api/users` — адрес для получения списка пользователей.

---

## Запуск команд

Claude Code может запускать команды в терминале за вас. Перед каждым запуском он покажет команду и спросит разрешения.

### Примеры

```
Вы: запусти тесты

Claude: Я выполню команду:
  npm test

Run command? [y/n]
```

```
Вы: установи библиотеку для работы с датами

Claude: Я выполню:
  npm install dayjs

Run command? [y/n]
```

```
Вы: покажи, какие файлы я менял

Claude: Я выполню:
  git status

Run command? [y/n]
```

> **npm** — менеджер пакетов для JavaScript. Как магазин приложений, только для библиотек кода.

---

## Работа с Git

Claude Code отлично работает с Git. Вот что можно делать:

### Посмотреть изменения

```
Вы: что я изменил?
```

Claude выполнит `git status` и `git diff`, покажет результат.

### Создать коммит

```
Вы: сделай коммит с описанием изменений
```

Claude сам придумает понятное сообщение для коммита и предложит его вам.

Или ещё проще — специальная команда:

```bash
claude commit
```

> **Коммит** — «снимок» ваших изменений, сохранённый в истории проекта. Как нажать «Сохранить» с комментарием, что именно вы изменили.

### Создать ветку

```
Вы: создай новую ветку feature/login
```

> **Ветка (branch)** — параллельная версия проекта. Можно экспериментировать в ветке, не трогая основной код.

### Посмотреть историю

```
Вы: покажи последние 5 коммитов
```

---

## Рефакторинг кода

**Рефакторинг** — это улучшение кода без изменения его поведения. Claude Code отлично с этим справляется:

```
Вы: перепиши этот код, чтобы он был понятнее
```

```
Вы: замени callback-функции на async/await
```

```
Вы: разбей этот большой файл на несколько маленьких
```

---

## Документация и тесты

### Обновить README

```
Вы: обнови README с инструкцией по установке
```

### Написать тесты

```
Вы: напиши тесты для функций в calculator.js
```

### Добавить комментарии

```
Вы: добавь комментарии к коду в auth.py
```

---

## Практика

Попробуйте в любом проекте:

1. `что делает этот проект?` — Claude проанализирует и объяснит
2. `какие файлы здесь самые важные?` — покажет ключевые файлы
3. `создай файл hello.py с функцией, которая выводит приветствие` — создаст файл
4. `запусти hello.py` — запустит скрипт
5. `сделай коммит` — сохранит изменения в Git

---

## Итоги урока

✅ Claude Code **сам находит нужные файлы** и показывает изменения перед применением  
✅ Может работать с **несколькими файлами** одновременно  
✅ Умеет **искать по проекту** — код, функции, паттерны  
✅ **Запускает команды** (тесты, установка пакетов) с вашего разрешения  
✅ Работает с **Git**: коммиты, ветки, история, конфликты  
✅ Пишет **тесты, документацию** и делает **рефакторинг**  

---

**Следующий урок:** [Claude Code в VS Code и JetBrains →](06-ide-integration.md)
