# Урок 4. Рабочие процессы

## Зачем это нужно

Claude Code — не просто «чат с AI». Это полноценный рабочий инструмент, который умеет выполнять реальные задачи разработки: находить и исправлять ошибки, проверять код, улучшать структуру проекта и работать с Git. В этом уроке мы разберём основные рабочие процессы — типичные сценарии, в которых Claude Code помогает больше всего.

## Что такое рабочий процесс

**Рабочий процесс** (workflow) — это последовательность шагов для решения определённой задачи. Например, «исправление бага» — это: найти ошибку → понять причину → написать исправление → проверить, что всё работает.

Claude Code может выполнять каждый из этих шагов — а часто и всю цепочку целиком.

## Процесс 1: Исправление ошибок (фикс багов)

### Когда нужно
У вас что-то не работает: сайт показывает ошибку, функция выдаёт неправильный результат, программа «падает».

### Как работать с Claude

**Вариант А — вы знаете, где ошибка:**

```
Вы: В файле src/cart.js функция calculateTotal возвращает 
    неправильную сумму. Скидка не учитывается. Исправь.
```

Claude откроет файл, найдёт проблему и предложит исправление.

**Вариант Б — вы не знаете, где ошибка:**

```
Вы: Когда пользователь добавляет товар в корзину, итоговая цена 
    не обновляется. Найди и исправь проблему.
```

Claude проанализирует несколько файлов, найдёт причину и исправит.

**Вариант В — у вас есть текст ошибки:**

```
Вы: При запуске npm start появляется ошибка:
    TypeError: Cannot read property 'map' of undefined
    at ProductList (src/components/ProductList.js:15)
    Исправь.
```

Claude прочитает текст ошибки, откроет нужный файл и исправит проблему.

### Советы по исправлению ошибок
- Давайте Claude как можно больше контекста: текст ошибки, шаги для воспроизведения
- Попросите Claude сначала объяснить причину, а потом исправлять
- После исправления попросите запустить тесты

## Процесс 2: Код-ревью (проверка кода)

### Когда нужно
Вы написали код (или Claude написал) и хотите убедиться, что он качественный.

### Как работать с Claude

```
Вы: Проверь файл src/auth.js на:
    - Ошибки и потенциальные проблемы
    - Безопасность
    - Читаемость
    - Соответствие лучшим практикам
```

Claude проанализирует код и выдаст подробный отчёт.

### Проверка изменений перед сохранением в Git

```
Вы: Посмотри мои текущие изменения (git diff) и проверь, 
    всё ли в порядке перед коммитом.
```

Claude выполнит `git diff`, проанализирует все изменения и скажет, если найдёт проблемы.

## Процесс 3: Рефакторинг (улучшение кода)

### Что это
**Рефакторинг** — это улучшение кода без изменения его функциональности. Код делает то же самое, но становится чище, понятнее и проще в поддержке. Как генеральная уборка: всё на своих местах, ничего не потерялось.

### Как работать с Claude

**Упростить сложную функцию:**

```
Вы: Функция processOrder в файле src/orders.js слишком длинная 
    и сложная. Разбей её на несколько маленьких функций.
```

**Обновить устаревший код:**

```
Вы: Перепиши файл src/utils.js, заменив старый синтаксис 
    на современный JavaScript (ES6+).
```

**Убрать дублирование:**

```
Вы: В файлах src/admin.js и src/user.js есть похожий код 
    для проверки прав доступа. Вынеси общую логику в отдельный модуль.
```

## Процесс 4: Работа с Git

### Что такое Git
**Git** — это система контроля версий. Она сохраняет историю всех изменений в проекте, как «машина времени» для кода. Основные понятия:

- **Коммит** (commit) — сохранение изменений с описанием
- **Ветка** (branch) — отдельная «линия» разработки
- **Pull request (PR)** — запрос на добавление ваших изменений в основной код

### Как Claude помогает с Git

**Создание коммита с понятным описанием:**

```
Вы: Посмотри, какие файлы я изменил, и создай коммит 
    с понятным описанием на русском языке.
```

**Создание новой ветки для задачи:**

```
Вы: Создай новую ветку feature/contact-form и начни 
    делать форму обратной связи.
```

**Разрешение конфликтов:**

```
Вы: У меня конфликт слияния в файле src/app.js. 
    Помоги разрешить его.
```

### Типичный Git-workflow с Claude

```
Вы: Создай ветку fix/broken-login

Claude: Создал ветку fix/broken-login и переключился на неё.

Вы: Найди и исправь ошибку авторизации — пользователи 
    не могут войти с email в верхнем регистре.

Claude: [находит проблему в src/auth.js, исправляет, 
        показывает изменения]

Вы: Выглядит хорошо. Создай коммит и опиши что исправлено.

Claude: Создал коммит: "fix: нормализация email при 
        авторизации — приведение к нижнему регистру"
```

## Процесс 5: Написание тестов

### Что такое тесты
**Тесты** — это специальный код, который проверяет, что ваша программа работает правильно. Как контрольная работа для кода: «если подать на вход 2+2, на выходе должно быть 4».

### Как работать с Claude

```
Вы: Напиши тесты для файла src/cart.js. 
    Покрой все основные сценарии: добавление товара, 
    удаление, расчёт скидки, пустая корзина.
```

Claude создаст файл с тестами и может сразу их запустить.

## Советы для эффективной работы

- ✅ **Описывайте задачу на уровне бизнес-логики:** «Пользователи жалуются, что заказ не оформляется» лучше, чем «Исправь строку 47»
- ✅ **Просите Claude объяснить** перед тем, как он начнёт менять код
- ✅ **Проверяйте результат:** после изменений попросите запустить тесты
- ✅ **Работайте итеративно:** сначала маленькая задача, потом следующая
- ✅ **Используйте Git:** всегда можно откатить изменения, если что-то пошло не так

## Итоги урока

- Claude Code умеет выполнять полноценные рабочие процессы: фикс багов, ревью, рефакторинг, работу с Git
- Чем больше контекста вы даёте (текст ошибки, файлы, описание проблемы), тем лучше результат
- Claude может работать с Git: создавать ветки, коммиты, разрешать конфликты
- Всегда проверяйте результат — попросите Claude запустить тесты или объяснить изменения
- Работайте пошагово: одна задача за раз
