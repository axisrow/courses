# 2026-02-19 — Ошибки при создании Hugo-сайтов курсов

## Критические ошибки (не повторять!)
1. **Пустая главная** — нужны _index.md в корне КАЖДОГО contentDir (content/, content.ru/, content.zh/)
2. **Битые ссылки** — Hugo URL без .md и с trailing slash: `level-1-beginner/01-slug/` а не `1-beginner/01-slug.md`

## Важные ошибки
3. **Language switcher скрыт** — стандартный hugo-book прячет в dropdown, нужен кастомный `layouts/partials/docs/languages.html` с inline-кнопками
4. **Нет языков на мобильных** — нужен кастомный `layouts/partials/docs/header.html` с inline language switcher
5. **Нет font-family** — hugo-book НЕ задаёт шрифты! Нужен `inject/head.html` с Google Fonts + `_custom.scss`
6. **Заголовки не жирные** — тема ставит `font-weight: inherit`, нужен `.markdown h1, .markdown h2...` с `font-weight: 700`
7. **Двойной title в табе** — title в frontmatter не должен совпадать с title сайта

## Средние ошибки
8. **ToC не нужен** — `BookToc = false` в config.toml для курсовых сайтов
9. **CSS specificity** — `.markdown h1` бьёт голый `h1`, нужны оба селектора
10. **CJK шрифт** — для zh нужен Noto Sans SC в font stack
11. **Три размера шрифта** — убрать ToC решает часть проблемы

## Minor
12. Нужен favicon в `static/favicon.png`
13. Убрать колонку «Файл» из таблиц
14. `line-height: 1.7` для `.markdown`
15. Preconnect для Google Fonts
16. После клона нужен `git submodule update --init --recursive`

## Шаблон файлов для Hugo-курса
- `config.toml`: defaultContentLanguage, BookToc = false, 3 языка с contentDir
- `layouts/partials/docs/header.html` — мобильный language switcher
- `layouts/partials/docs/languages.html` — inline кнопки языков
- `layouts/partials/docs/menu.html` — без dropdown языков
- `layouts/partials/docs/inject/head.html` — Google Fonts + preconnect
- `layouts/partials/docs/inject/content-before.html` — desktop language switcher
- `assets/_custom.scss` — шрифты, заголовки, line-height, language switcher стили
- `static/favicon.png`
- `src/index.js` — Cloudflare Worker для language detection
- `content/_index.md`, `content.ru/_index.md`, `content.zh/_index.md` — НЕ пустые!
