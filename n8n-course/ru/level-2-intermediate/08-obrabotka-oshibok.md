---
title: "Обработка ошибок"
weight: 8
bookToc: true
---

# Обработка ошибок

## Зачем обрабатывать ошибки?

Внешние сервисы могут упасть в любой момент. Без обработки ошибок один сбой остановит весь workflow.

## Типы ошибок

- **Ошибки соединения** — сервис недоступен
- **Ошибки аутентификации** — неверные учётные данные
- **Ошибки данных** — неожиданный формат
- **Лимиты** — слишком много запросов
- **Таймаут** — сервис не ответил вовремя

## Встроенные механизмы

### Continue on Fail
В настройках любого нода:
- Нод перехватывает ошибку
- Следующий нод получает информацию об ошибке
- Workflow продолжает работу

### Retry on Fail
- Количество повторов (например, 3)
- Пауза между попытками
- Подходит для временных сбоев

## Error Workflow

Глобальный обработчик ошибок:

1. Создайте отдельный workflow
2. Начните с нода **Error Trigger**
3. Добавьте действия: алерт в Slack, email, запись в БД
4. В основном workflow: **Settings → Error Workflow** → выберите обработчик

## Валидация через IF

```
IF → $json.email содержит "@"
   True → продолжить
   False → уведомление об ошибке
```

## Паттерны обработки

### Уведомление при сбое
```
Основной workflow → Error Workflow → Slack / Email
```

### Значение по умолчанию
```
HTTP Request (может упасть) → IF (ошибка?) → Да: значение по умолчанию
                                             → Нет: продолжить
```

### Очередь ошибок
```
Ошибочные элементы → Google Sheet для ручной проверки
```

## Мониторинг выполнений

1. **Executions** в левом меню
2. Фильтр по **Failed**
3. Клик на выполнение → какой нод упал и почему
4. Исправить и перезапустить

## Практика

1. Вызовите «сломанный» URL: `https://httpstat.us/500`
2. Включите **Continue on Fail**
3. Добавьте **IF** для проверки ошибки
4. При ошибке: сохраните сообщение через Set
5. Создайте Error Workflow с уведомлением

## Итог

Ваши workflow теперь устойчивы к ошибкам. Далее — условная логика.
