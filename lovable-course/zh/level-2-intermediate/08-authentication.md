---
title: "用户认证"
weight: 8
bookToc: true
---

# 用户认证

为应用添加登录和注册功能。

## Supabase Auth

Lovable 使用 Supabase Auth，支持：

- 邮箱 + 密码
- Google 登录
- GitHub 登录
- Magic link（无密码）

## 添加认证

> 添加用户认证。用户可以用邮箱和密码注册和登录。

Lovable 会创建：
- 注册页面
- 登录页面
- 会话管理
- 受保护的路由

## 社交登录

> 在注册页面添加 Google 登录选项。

需要在 Supabase 控制台配置 Google OAuth。

## 受保护的页面

> 仪表盘只有登录用户可以访问。未登录用户重定向到登录页。

## 用户资料

> 注册后用户可以填写资料：姓名、头像、简介。存储在 profiles 表中。

## 显示用户信息

> 在右上角显示用户名和头像。添加退出按钮。

## 认证流程

```
用户访问应用
  → 未登录 → 显示登录页
  → 已登录 → 显示仪表盘
    → 退出 → 返回登录页
```

## 常见认证模式

| 模式 | 描述 |
|------|------|
| 基于角色 | 管理员 vs 普通用户 |
| 邮箱验证 | 验证邮箱后才能使用 |
| 密码重置 |「忘记密码」流程 |
| 会话保持 | 跨访问保持登录状态 |

## 总结

Supabase Auth 处理登录、注册和会话管理。Lovable 通过简单的提示词完成所有设置。
