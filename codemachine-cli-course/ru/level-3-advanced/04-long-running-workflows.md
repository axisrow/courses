---
title: "Долгоживущие workflow"
weight: 4
bookToc: true
---

# Долгоживущие workflow

## Что это?

Некоторые задачи занимают часы или дни. CodeMachine спроектирован для таких длительных процессов.

## Персистентность

CodeMachine автоматически сохраняет состояние. Если workflow прервётся — вы продолжите с того же места.

### Как возобновить

Просто запустите `codemachine` снова в той же папке.

## Пауза и возобновление

Нажмите **P** для паузы. Перезапустите CodeMachine для продолжения.

## Стратегия executeOnce

```javascript
steps: [
  resolveStep('requirements', { executeOnce: true }),
  resolveStep('architecture', { executeOnce: true }),
  resolveStep('implementation'),
  resolveModule('testing', {
    loopSteps: 1,
    loopMaxIterations: 20,
  }),
],
```

## Сигналы

| Сигнал | Клавиша | Эффект |
|--------|---------|--------|
| Пропустить | Ctrl+S | Пропустить шаг |
| Пауза | P | Пауза и сохранение |
| Стоп | Escape | Остановка |
| Режим | Shift+Tab | Переключение режима |

## Мониторинг

- **Tab** — таймлайн
- **H** — история
- Логи в `.codemachine/logs/`

## Лучшие практики

1. Используйте `executeOnce` для этапов настройки
2. Устанавливайте `loopMaxIterations`
3. Мониторьте логи
4. Начинайте под контролем, потом переходите к автономии

## Итог

- CodeMachine работает часами и днями
- Состояние сохраняется автоматически
- Используйте executeOnce, сигналы и мониторинг

> **Следующий урок:** Лучшие практики.
