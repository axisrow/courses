---
title: "Инженерия контекста"
weight: 2
bookToc: true
---

# Инженерия контекста

## Почему контекст важен

AI-агенты работают лучше всего, когда получают ровно ту информацию, которая нужна — не больше и не меньше.

## Плейсхолдеры

Плейсхолдеры вставляют динамический контент в промпты:

```javascript
// config/placeholders.js
export default {
  userDir: {
    project_specs: 'inputs/specifications.md',
    api_docs: 'inputs/api-documentation.md',
  },
  packageDir: {
    step_completion: 'shared/step-completion.md',
  },
};
```

Использование в промптах:

```markdown
## Требования проекта:
{project_specs}

## Когда закончите:
{step_completion}
```

## Границы контекста

```markdown
## ГРАНИЦЫ КОНТЕКСТА:
- Читать ТОЛЬКО файлы в src/components/
- НЕ модифицировать package.json
- НЕ обращаться к переменным окружения
```

## Передача контекста между шагами

Выход каждого шага автоматически доступен следующему. Но можно быть явным:

```markdown
### 1. Прочитать результат предыдущего шага
### 2. Развить архитектуру
### 3. Сохранить план в .codemachine/outputs/plan.md
```

## Файл спецификации

```bash
codemachine --spec path/to/my-spec.md
```

## Лучшие практики

1. **Меньше = лучше** — давайте только нужную информацию
2. **Структурированный ввод** — markdown с заголовками и списками
3. **Явные границы** — всегда указывайте, что вне доступа
4. **Общие шаблоны** — переиспользуйте через плейсхолдеры

## Итог

- Плейсхолдеры вставляют контент в промпты
- Границы контекста удерживают фокус агентов
- Контекст передаётся между шагами автоматически
- Давайте агентам ровно то, что нужно

> **Следующий урок:** Паттерны оркестрации.
