---
title: "AI-рефакторинг"
weight: 7
bookToc: true
---

# AI-рефакторинг

## Что такое рефакторинг?

Рефакторинг — улучшение кода без изменения его поведения. Windsurf делает это легко.

## Быстрый рефакторинг

1. Выделите код
2. Правый клик → **Windsurf: Refactor**
3. Или нажмите `Ctrl+Shift+R`

## Частые задачи

### Переименование переменных
Выделите переменную и попросите: «Переименуй в более понятное имя»

### Извлечение функции
Выделите блок кода: «Извлеки это в отдельную функцию»

### Упрощение логики
Выделите сложный код: «Упрости эту логику»

### Преобразование паттернов
- «Преобразуй callback в async/await»
- «Преобразуй классовый компонент в функциональный»
- «Замени цикл for на map/filter»

## Cascade для рефакторинга

```
Отрефактори класс UserService:
- Разбей на маленькие методы
- Добавь обработку ошибок
- Используй dependency injection
```

## Пример: до и после

**До:**
```python
def process(d):
    r = []
    for i in d:
        if i['a'] > 10 and i['b'] == True:
            r.append(i['c'] * 2)
    return r
```

**После (AI-рефакторинг):**
```python
def process_active_items(items):
    return [
        item['value'] * 2
        for item in items
        if item['score'] > 10 and item['is_active']
    ]
```

## Советы

- Рефакторьте маленькими кусками
- Запускайте тесты после каждого рефакторинга
- Коммитьте в Git перед большими изменениями

## Практика

Найдите функцию с плохими именами переменных. Отрефакторьте с помощью Windsurf.
