---
title: "Создание кастомных Skills"
weight: 2
bookToc: true
---

# Создание кастомных Skills

## Введение

Встроенных навыков DeerFlow хватает для многих задач, но настоящая мощь — в возможности создавать **собственные навыки**. В этом уроке вы научитесь создавать, тестировать и распространять свои Skills.

## Структура навыка

Каждый навык — это папка с файлом `SKILL.md`:

```
skills/custom/
└── my-skill/
    └── SKILL.md
```

### Формат SKILL.md

```markdown
---
name: data-analysis
description: "Анализ данных с визуализацией"
license: MIT
allowed-tools:
  - bash
  - read_file
  - write_file
  - present_files
---

# Анализ данных

## Процесс

1. Прочитай загруженный файл с данными
2. Определи тип данных и структуру
3. Выполни базовый статистический анализ
4. Создай визуализации (графики, диаграммы)
5. Сформируй отчёт с выводами
6. Сохрани результаты в /mnt/user-data/outputs/

## Правила

- Всегда показывай первые 5 строк данных
- Используй pandas для обработки
- Графики сохраняй в PNG формате
- Отчёт пиши на языке пользователя

## Шаблон отчёта

### Обзор данных
- Количество строк: {n}
- Количество столбцов: {m}
- Типы данных: ...

### Статистика
...

### Визуализации
...

### Выводы
...
```

## Пошаговое создание навыка

### Шаг 1: Создайте папку

```bash
mkdir -p skills/custom/email-writer
```

### Шаг 2: Создайте SKILL.md

```bash
cat > skills/custom/email-writer/SKILL.md << 'EOF'
---
name: email-writer
description: "Написание профессиональных деловых писем"
license: MIT
allowed-tools:
  - write_file
  - present_files
---

# Написание деловых писем

## Процесс

1. Уточни у пользователя: кому, тема, тон (формальный/неформальный)
2. Определи тип письма (запрос, благодарность, жалоба, предложение)
3. Напиши черновик по шаблону
4. Предложи варианты тем письма
5. Сохрани финальную версию

## Шаблон письма

Тема: {subject}

Уважаемый/ая {name},

{opening — вводное предложение}

{body — основное содержание}

{closing — заключение}

С уважением,
{sender}

## Правила

- Максимум 200 слов для стандартного письма
- Язык — по запросу пользователя
- Предлагай 2-3 варианта темы письма
- Проверяй грамматику
EOF
```

### Шаг 3: Включите навык

В `extensions_config.json`:

```json
{
  "skills": {
    "email-writer": {
      "enabled": true
    }
  }
}
```

Или через API:

```bash
curl -X PUT http://localhost:2026/api/skills/email-writer \
  -H "Content-Type: application/json" \
  -d '{"enabled": true}'
```

### Шаг 4: Тестируйте

Перезапустите DeerFlow и попробуйте:

```
Напиши деловое письмо партнёру с предложением о сотрудничестве.
```

## Лучшие практики

### 1. Будьте конкретны в инструкциях

❌ Плохо: «Напиши хороший отчёт»
✅ Хорошо: «Напиши отчёт по шаблону: заголовок, резюме (3 предложения), основная часть, выводы»

### 2. Ограничивайте инструменты

Указывайте только те `allowed-tools`, которые действительно нужны. Это повышает безопасность и фокус агента.

### 3. Добавляйте примеры

Включайте примеры ожидаемого результата в SKILL.md.

### 4. Используйте пошаговый процесс

Пронумерованные шаги помогают агенту следовать логике.

### 5. Определяйте правила

Явно укажите ограничения: формат, длина, язык, стиль.

## Распространение навыков

### Формат .skill

Навыки можно упаковать в `.skill`-архив (ZIP):

```bash
cd skills/custom/email-writer
zip -r email-writer.skill .
```

### Установка через API

```bash
curl -X POST http://localhost:2026/api/skills/install \
  -F "file=@email-writer.skill"
```

Навык будет распакован в `skills/custom/`.

## Пример: навык для генерации тестов

```markdown
---
name: test-generator
description: "Генерация unit-тестов для кода"
license: MIT
allowed-tools:
  - read_file
  - write_file
  - bash
  - present_files
---

# Генерация Unit-тестов

## Процесс

1. Прочитай исходный файл с кодом
2. Определи язык программирования
3. Найди все функции/методы
4. Для каждой функции создай:
   - Тест на нормальный сценарий
   - Тест на граничные случаи
   - Тест на ошибки
5. Запусти тесты и проверь результат
6. Сохрани тесты в файл

## Правила

- Python: используй pytest
- JavaScript: используй jest
- Минимум 3 теста на функцию
- Добавляй описательные имена тестов
```

## Итоги

- Кастомные навыки создаются как Markdown-файлы в `skills/custom/`
- Формат: YAML-метаданные + пошаговые инструкции
- Навыки можно включать/выключать через конфигурацию или API
- Распространяются через .skill-архивы
- Лучшие практики: конкретность, ограничение инструментов, примеры
