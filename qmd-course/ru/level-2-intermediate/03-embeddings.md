---
title: "Эмбеддинги и семантический поиск"
weight: 8
bookToc: true
---

# Эмбеддинги и семантический поиск

## Что такое эмбеддинги?

**Эмбеддинг** — это способ превратить текст в набор чисел, которые отражают его смысл. Документы с похожим смыслом получают похожие числа, даже если в них разные слова.

Например:
- «Как развернуть приложение» и «Процесс релиза» — похожие эмбеддинги
- «Как развернуть приложение» и «Лучший рецепт печенья» — очень разные

## Генерация эмбеддингов

```sh
qmd embed
```

Это обрабатывает все документы через локальную ИИ-модель EmbeddingGemma.

## Перегенерация

```sh
# Только новые/изменённые документы
qmd embed

# Принудительно для всех
qmd embed -f
```

## Как работает нарезка

Длинные документы разбиваются на фрагменты по ~900 токенов (~700 слов):

- Разрыв предпочтительно по заголовкам и границам абзацев
- Блоки кода сохраняются целиком
- 15% перекрытие между фрагментами

## Когда что использовать

| Режим | Когда использовать |
|-------|-------------------|
| `qmd search` | Знаете точные слова, нужна скорость |
| `qmd vsearch` | Ищете по смыслу, не знаете точных слов |
| `qmd query` | Хотите лучшие результаты, скорость не важна |

## Проверка индекса

```sh
qmd status
```

## Далее

Узнаем, как использовать QMD с ИИ-агентами и протоколом MCP.
