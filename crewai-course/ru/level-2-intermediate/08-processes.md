---
title: "Процессы: последовательный и иерархический"
weight: 8
bookToc: true
---

# Процессы: последовательный и иерархический

## Что такое процесс?

Процесс определяет **как агенты работают вместе** — порядок и стиль координации.

## Последовательный процесс

Задачи выполняются одна за другой:

```python
crew = Crew(
    agents=[researcher, writer, editor],
    tasks=[research_task, writing_task, editing_task],
    process=Process.sequential
)
```

**Поток:** Исследование → Написание → Редактирование

Лучше для: конвейеров, где каждый шаг зависит от предыдущего.

## Иерархический процесс

**Агент-менеджер** координирует работу и решает, кто что делает:

```python
crew = Crew(
    agents=[researcher, writer, editor],
    tasks=[research_task, writing_task, editing_task],
    process=Process.hierarchical,
    manager_llm="gpt-4o"
)
```

Менеджер:
- Читает все задачи
- Назначает их агентам
- Проверяет результаты
- Перенаправляет при необходимости

## Сравнение

| Свойство | Последовательный | Иерархический |
|----------|-----------------|---------------|
| Порядок | Фиксированный | Динамический |
| Менеджер | Нет | Автоматический или свой |
| Простота | Простой | Сложнее |
| Контроль | Полный | Менеджер решает |

## Свой агент-менеджер

```python
manager = Agent(
    role="Менеджер проекта",
    goal="Координировать команду для лучших результатов",
    backstory="Опытный PM, который умеет делегировать."
)

crew = Crew(
    agents=[researcher, writer, editor],
    tasks=[research_task, writing_task, editing_task],
    process=Process.hierarchical,
    manager_agent=manager
)
```

## Советы

1. **Начинайте с sequential** — проще отлаживать
2. **Используйте hierarchical** для сложных зависимостей
3. Иерархический режим тратит больше токенов — учитывайте стоимость

## Итого

Sequential выполняет задачи по порядку. Hierarchical использует менеджера для динамической координации. Выбирайте по сложности задачи.

---

**Далее:** Совместная работа и делегирование.
