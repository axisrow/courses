---
title: "Совместная работа и делегирование"
weight: 9
bookToc: true
---

# Совместная работа и делегирование

## Как агенты взаимодействуют

В CrewAI агенты могут **делегировать** работу и **задавать вопросы** другим агентам.

## Включение делегирования

```python
writer = Agent(
    role="Автор",
    goal="Писать точные статьи",
    backstory="Вы хорошо пишете, но делегируете проверку фактов другим.",
    allow_delegation=True
)
```

## Как это работает

1. Агент A работает над задачей
2. Агент A понимает, что нужна специфическая информация
3. Агент A делегирует подзапрос Агенту B
4. Агент B отвечает
5. Агент A использует ответ для завершения задачи

## Пример: Автор + Фактчекер

```python
fact_checker = Agent(
    role="Фактчекер",
    goal="Проверять утверждения и предоставлять точные данные",
    backstory="Вы дотошно проверяете каждый факт."
)

writer = Agent(
    role="Автор статей",
    goal="Писать увлекательные и точные статьи",
    backstory="Вы пишете ясно и делегируете проверку фактов при необходимости.",
    allow_delegation=True
)

task = Task(
    description="Напишите статью о преимуществах солнечной энергии. Проверьте всю статистику.",
    expected_output="Статья на 400 слов с проверенными фактами.",
    agent=writer
)

crew = Crew(
    agents=[fact_checker, writer],
    tasks=[task],
    process=Process.sequential,
    verbose=True
)
```

## Лучшие практики

1. **Включайте делегирование выборочно** — не каждому агенту оно нужно
2. **Имейте агентов-специалистов** — делегирование работает, когда есть кому делегировать
3. **Следите за логами** — делегирование увеличивает число вызовов LLM
4. **Используйте чёткие роли** — агенты делегируют на основе ролей

## Итого

Делегирование позволяет агентам обращаться за помощью к коллегам. Включайте через `allow_delegation=True`.

---

**Далее:** Обработка ошибок и отладка.
