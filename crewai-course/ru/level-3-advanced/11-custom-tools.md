---
title: "Создание своих инструментов"
weight: 11
bookToc: true
---

# Создание своих инструментов

## Зачем свои инструменты?

Встроенные инструменты покрывают типовые случаи. Но вашему проекту может понадобиться вызов собственного API, запрос к базе данных или специфическая обработка данных.

## Создание через класс

```python
from crewai.tools import BaseTool

class WeatherTool(BaseTool):
    name: str = "Weather Lookup"
    description: str = "Получить текущую погоду для города. Вход: название города."

    def _run(self, city: str) -> str:
        return f"Погода в {city}: 22°C, солнечно."
```

## Использование

```python
weather = WeatherTool()

travel_agent = Agent(
    role="Консультант по путешествиям",
    goal="Помогать планировать поездки с учётом погоды",
    backstory="Вы — полезный планировщик путешествий.",
    tools=[weather]
)
```

## Декоратор @tool

Более простой подход:

```python
from crewai.tools import tool

@tool("Калькулятор")
def calculator(expression: str) -> str:
    """Вычислить математическое выражение. Вход: выражение вроде '2 + 2'."""
    try:
        return str(eval(expression))
    except Exception as e:
        return f"Ошибка: {e}"
```

## Лучшие практики

1. **Понятное имя и описание** — агент использует их для выбора инструмента
2. **Обрабатывайте ошибки** — всегда возвращайте строку
3. **Один инструмент = одна функция**
4. **Тестируйте отдельно** перед передачей агенту

## Итого

Свои инструменты расширяют CrewAI любой функциональностью. Используйте класс `BaseTool` или декоратор `@tool`.

---

**Далее:** Интеграция с разными LLM.
