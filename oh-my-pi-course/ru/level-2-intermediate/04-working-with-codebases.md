---
title: "Работа с кодовыми базами"
level: 2
lesson: 4
lang: ru
tags: [код, сессии, ветвление, контекст]
---

# Работа с кодовыми базами

## Введение

OMP отлично справляется с навигацией и редактированием больших проектов.

## Ссылки на файлы

```
> Объясни @src/auth/middleware.ts
> Сравни @old.ts и @new.ts
```

Поддерживается @ + Tab для автодополнения по `.gitignore`.

## Bash-режим

```
> !git log --oneline -10
> !find src -name "*.test.ts" | head -20
```

`!!` — выполнить без добавления в контекст модели.

## Управление сессиями

Сессии хранятся в `~/.omp/agent/sessions/` как JSONL.

```bash
omp -c                    # Продолжить последнюю
omp -r                    # Выбрать из списка
omp -r abc123             # По ID-префиксу
omp --no-session          # Без сохранения
```

## Ветвление сессий

- `/tree` — навигация по дереву сессии
- `/branch` — создать ветку от прошлого сообщения
- `/fork` — форкнуть сессию

## Сжатие контекста

При длинных сессиях контекст может переполниться:

```
/compact                    # Ручное сжатие
/compact Фокус на API       # С указанием фокуса
```

Автоматическое сжатие включается в настройках.

## Режим планирования

```
/plan
> Спланируй миграцию базы данных с PostgreSQL на SQLite
```

## Code Review

```
/review
```

Интерактивный выбор: сравнение веток, незакоммиченные изменения, ревью коммита.

## Итоги

OMP предоставляет полный набор инструментов для навигации, редактирования и управления сессиями в больших проектах.
