---
title: "Продвинутые мультиагентные рабочие процессы"
weight: 11
bookToc: true
---

# Продвинутые мультиагентные рабочие процессы

## За пределами одного агента

На начальном уровне вы использовали одного агента. На среднем — освоили NTM. Теперь — **сложные мультиагентные рабочие процессы**.

### Паттерн 1: Разделяй и властвуй

| Агент | Роль | Задача |
|-------|------|--------|
| Claude | Архитектор | Проектирование, документация |
| Codex | Строитель | Реализация кода |
| Gemini | Ревьюер | Проверка кода, поиск ошибок |

### Паттерн 2: Красная / Синяя команда

1. **Агент А** пишет решение
2. **Агент Б** пытается его сломать
3. **Агент А** исправляет проблемы
4. Повторяйте до надёжного результата

### Паттерн 3: Ансамблевый подход

Дайте одну задачу всем трём агентам, выберите лучшее решение:

```
Один промпт → Claude → Решение А
Один промпт → Codex  → Решение Б
Один промпт → Gemini → Решение В
                ↓
        Сравните и соедините лучшие части
```

### Agent Mail для координации

```bash
am  # Запустить сервер почты

# Агенты общаются между собой:
# Агент 1: «Схема БД готова в /tmp/schema.sql»
# Агент 2: «Принял, начинаю API»
```

Agent Mail поддерживает **резервирование файлов** — агент «блокирует» файл от одновременного редактирования.

### Практический пример: веб-приложение

1. Планирование через Beads: фронтенд, бэкенд, БД, тесты, деплой
2. Назначение через NTM: Claude→бэкенд, Codex→фронтенд, Gemini→тесты
3. Agent Mail координирует: бэкенд сигнализирует «API готов» → фронтенд начинает интеграцию
4. UBS сканирует код перед слиянием
5. CASS записывает процесс для будущих проектов

### Главный вывод

Продвинутые рабочие процессы используют агентов в координированных паттернах. Agent Mail обеспечивает связь между агентами и блокировку файлов.
