---
title: "Безопасность и лучшие практики"
weight: 15
bookToc: true
---

# Безопасность и лучшие практики

## Управление токенами

```bash
gog auth list              # все авторизованные аккаунты
gog auth revoke user@gmail.com   # отозвать доступ
gog auth revoke --all      # отозвать всё
```

## Минимальные права (Scopes)

Запрашивайте только нужные разрешения:

```bash
gog auth login --scopes gmail.readonly,drive.readonly
gog auth login --scopes calendar.events
```

## Хранение конфигурации

- Конфигурация хранится в `~/.config/gog/`
- Токены зашифрованы системным keyring
- Не копируйте папку конфигурации на чужие машины

```bash
gog config path     # показать путь к конфигу
gog auth status     # проверить состояние авторизации
```

## Безопасность скриптов

1. **Не храните токены в коде** — используйте `gog auth` или переменные окружения
2. **Используйте `.gitignore`** — исключите файлы конфигурации из git
3. **Логируйте действия** — `gog --verbose` для отладки

```bash
# Плохо:
export GOOGLE_TOKEN="ya29.xxxxx"

# Хорошо:
gog auth login  # токен хранится в keyring
```

## Аудит доступа

```bash
gog auth scopes              # текущие разрешения
gog auth scopes --account work  # для конкретного аккаунта
```

## Чеклист безопасности

- [ ] Используете минимальные scopes
- [ ] Токены хранятся в keyring, не в файлах
- [ ] Сервисные ключи не в git-репозитории
- [ ] Регулярно проверяете `gog auth list`
- [ ] Отзываете доступ неиспользуемых аккаунтов

## Практика

1. Проверьте, какие scopes выданы вашим аккаунтам
2. Отзовите доступ тестового аккаунта
3. Настройте авторизацию только с правами на чтение
