---
title: "Создание MCP-плагинов"
weight: 11
bookToc: true
---

# Создание MCP-плагинов

## Зачем создавать свои плагины?

Nexent имеет множество встроенных инструментов, но вам может понадобиться подключить агента к вашей CRM, внутренней базе данных или API. MCP-плагины позволяют расширить Nexent любой функциональностью.

## Что такое MCP-плагин?

MCP-плагин — это Python-сервис, следующий спецификации Model Context Protocol. Он предоставляет один или несколько **инструментов**, которые агенты могут вызывать во время разговоров.

## Структура плагина

```
my-plugin/
├── server.py       # Основной файл сервиса
├── requirements.txt
└── README.md
```

## Простой пример

Инструмент, возвращающий текущую дату:

```python
from datetime import date

def get_today():
    """Возвращает сегодняшнюю дату в формате YYYY-MM-DD."""
    return {"date": str(date.today())}
```

На практике это оборачивается в MCP-совместимый сервер.

## Регистрация плагина

1. Запустите плагин как сервис (локально или на сервере).
2. В Nexent: **Настройки → Инструменты → Добавить удалённый MCP-инструмент**.
3. Введите URL вашего плагина.
4. Nexent обнаружит доступные инструменты.

## Лучшие практики

- **Один инструмент — одно действие.** Простые и фокусированные инструменты.
- **Понятные описания.** AI читает документацию инструмента, чтобы решить, когда его использовать.
- **Обработка ошибок.** Возвращайте понятные сообщения об ошибках.
- **Безопасность.** Не раскрывайте конфиденциальные данные в ответах.

## Тестирование

1. Запустите плагин локально.
2. Зарегистрируйте в Nexent.
3. Создайте агента с доступом к новому инструменту.
4. Задайте вопрос, который должен вызвать инструмент.
5. Проверьте результат.

## Практическое задание

Создайте MCP-плагин, возвращающий случайную мотивационную цитату. Зарегистрируйте его в Nexent и создайте агента, делящегося цитатой дня.
