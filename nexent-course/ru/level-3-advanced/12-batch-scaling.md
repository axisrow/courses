---
title: "Масштабирование и пайплайны"
weight: 12
bookToc: true
---

# Масштабирование и пайплайны

## Когда нужен масштаб

Обработать пару документов просто. Но что если нужно проанализировать 1 000 отчётов или построить базу знаний из целой библиотеки? Здесь пригодится пакетная обработка Nexent.

## От одного файла к пайплайну

- **Один файл** — загрузите, получите результат сразу.
- **Пакетная загрузка** — перетащите множество файлов разом.
- **Пайплайн** — цепочка шагов обработки для сложных задач.

## Настройка пакетного пайплайна

1. Создайте базу знаний.
2. Загрузите все файлы сразу.
3. Nexent ставит их в очередь и обрабатывает в фоне.
4. Следите за прогрессом в интерфейсе.

## Цепочка обработки

Для каждого документа Nexent выполняет:

1. **Определение формата.**
2. **Извлечение содержимого** — текст, таблицы, изображения.
3. **OCR** (при необходимости).
4. **Разбиение на фрагменты.**
5. **Создание эмбеддингов.**
6. **Реферирование.**

## Советы по производительности

- **Оборудование имеет значение.** Больше RAM и ядер CPU ускоряют обработку.
- **Группируйте похожие файлы.** 100 PDF обрабатываются быстрее, чем смесь форматов.
- **Следите за Elasticsearch.** Проверьте `ES_JAVA_OPTS` в `.env` — выделите достаточно памяти.

## Мониторинг и устранение проблем

- Проверяйте статус обработки в панели базы знаний.
- Смотрите логи Docker: `docker compose logs backend`.
- Проблемные файлы можно перезагрузить отдельно.

## Практическое задание

1. Соберите 10+ документов разных форматов.
2. Загрузите их в одну базу знаний.
3. Следите за прогрессом обработки.
4. После завершения задайте вопросы, затрагивающие несколько документов.
