---
title: "База знаний и RAG"
weight: 1
bookToc: true
---

# База знаний и RAG

## Что такое RAG?

RAG (Retrieval-Augmented Generation) позволяет AI отвечать на вопросы, используя ваши документы. Вместо того чтобы полагаться только на обучающие данные, AI сначала ищет информацию в ваших файлах.

## Как это работает

1. Вы загружаете документы (PDF, TXT, Markdown, HTML)
2. Dify разбивает их на фрагменты и создаёт эмбеддинги
3. Когда пользователь задаёт вопрос, Dify находит релевантные фрагменты
4. LLM использует эти фрагменты для генерации ответа

## Создание базы знаний

1. Перейдите в **Знания → Создать базу знаний**
2. Дайте ей имя (например, «Документация компании»)
3. Загрузите файлы или вставьте текст
4. Выберите настройки разбиения:
   - **Автоматически** — Dify сам решает размер фрагментов
   - **Вручную** — вы задаёте размер и перекрытие
5. Выберите модель эмбеддингов
6. Нажмите **Сохранить и обработать**

## Подключение к приложению

1. Откройте приложение в **Студии**
2. В разделе **Контекст** нажмите **Добавить**
3. Выберите базу знаний
4. Настройте **Top K** (сколько фрагментов извлекать, по умолчанию: 3)
5. Настройте **Порог релевантности** (например, 0.5)

## Советы по разбиению

| Настройка | Маленькие фрагменты (200 токенов) | Большие фрагменты (1000 токенов) |
|-----------|----------------------------------|----------------------------------|
| **Точность** | Выше | Ниже |
| **Контекст** | Меньше окружающей информации | Больше окружающей информации |
| **Подходит для** | FAQ, определения | Длинные объяснения |

## Тестирование RAG

В предпросмотре задавайте вопросы по документам и проверяйте:
- Находит ли AI правильную информацию?
- Точны ли ссылки?
- Говорит ли AI «не знаю», когда информации нет в документах?

## Следующий шаг

Давайте подключим приложение к внешним сервисам через API!
